name: Auto-Request Review

on:
  pull_request:
    types: [opened, ready_for_review]

jobs:
  request-review:
    runs-on: ubuntu-latest
    permissions:
      pull-requests: write
    
    steps:
    - name: ðŸ‘€ Auto-Request Review
      uses: actions/github-script@v7
      with:
        script: |
          const pr = context.payload.pull_request;
          
          // Skip if PR is from the owner
          if (pr.user.login === 'marcus20232023') {
            console.log('PR from owner, skipping review request');
            return;
          }
          
          // Request review from owner
          try {
            await github.rest.pulls.requestReviewers({
              owner: context.repo.owner,
              repo: context.repo.repo,
              pull_number: pr.number,
              reviewers: ['marcus20232023']
            });
            console.log('Review requested from marcus20232023');
          } catch (error) {
            console.log('Could not request review:', error.message);
          }
